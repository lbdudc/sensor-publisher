/*% if (feature.MWM_TE_VisitsRecord) { %*/
<template>
  <v-data-table
    :headers="headers"
    :items="data"
    :sort-by.sync="sortBy"
    :sort-desc.sync="sortDesc"
    group-by="employee.fullName"
    dense
    disable-pagination
    hide-default-footer
  >
    <template v-slot:[`group.header`]="{ group, toggle, isOpen }">
      <td colspan="4" class="text-start">
        <v-btn icon @click="toggle">
          <v-icon v-if="isOpen">mdi-minus</v-icon>
          <v-icon v-else>mdi-plus</v-icon>
        </v-btn>
        <span>{{ group }}</span>
      </td>
    </template>
    <template v-slot:[`item.date`]="{ item }">
      <span>
        {{ item.date | dateFormat }}
      </span>
    </template>
    /*% if (feature.MVM_VT_WithTime) { %*/
    <template v-slot:[`item.startTime`]="{ item }">
      <span>
        {{ item.startTime | timeFormat }}
      </span>
    </template>
    <template v-slot:[`item.endTime`]="{ item }">
      <span>
        {{ item.endTime | timeFormat }}
      </span>
    </template>
    /*% } %*/
  </v-data-table>
</template>

<script>
export default {
  name: "VisitsTable",
  props: ["data"],
  data() {
    return {
      sortBy: "description",
      sortDesc: false
    };
  },
  computed: {
    headers() {
      return [
        {
          text: this.$t("planned_event_crud.description"),
          value: "description",
          width: "50%"
        },
        {
          text: this.$t("planned_event_crud.date"),
          value: "date"
        }/*% if (feature.MVM_VT_WithTime) { %*/,
        {
          text: this.$t("planned_event_crud.start"),
          value: "startTime"
        },
        {
          text: this.$t("planned_event_crud.end"),
          value: "endTime"
        }/*% } %*/
      ];
    }
  }
};
</script>
/*% } %*/
