/*% if (feature.MWM_TrajectoryExploitation) { %*/
<template>
  <v-container class="px-0">
    <v-sheet v-if="visits.length > 0">
      <label id="title" class="ml-2 mb-2">
        {{ $t("trajectory_exploitation.todaysVisits") }}
      </label>
      <v-row v-for="/*% if (feature.MVM_VT_WithTime) { %*/(visit, index)/*% } else { %*/visit/*% } %*/ in visits" :key="visit.id" class="ml-2">
        <span
          id="order-span"
          :class="visit.state == 'DONE' ? 'done' : 'pending'"
        >
          {{ /*% if (feature.MVM_VT_WithTime) { %*/index + 1/*% } else { %*/visit.eventOrder/*% } %*/ }}
        </span>
        <v-col cols="10" class="py-0 /*% if (feature.MVM_VT_WithTime) { %*/pt-sm-1/*% } else { %*/pt-1/*% } %*/">
        /*% if (feature.MVM_VT_WithTime) { %*/
          <span>
            {{ visit.startTime | timeFormat }} -
            {{ visit.endTime | timeFormat }}
          </span>
        /*% } %*/
          <v-col cols="12" sm="8" class="d-inline-flex px-0 py-0">
        /*% if (feature.MWM_TE_Planning) { %*/
            <router-link
              :to="{
                name: 'Planning',
                query: {
                  employees: visit.employee.id,
                  visit: visit.id
                }
              }"
              style="text-decoration: none"
              @click.native="$emit('click-visit', visit.id)"
            >
          /*% } %*/
              <label style="cursor: pointer">{{ visit.client.fullName }}</label>
          /*% if (feature.MWM_TE_Planning) { %*/
            </router-link>
        /*% } %*/
            <v-icon
              class="my-0 py-0 ml-2 justify-center"
              :color="visit.state == 'DONE' ? 'green' : 'gray'"
            >
              {{
                visit.state == "DONE" ? "check_box" : "check_box_outline_blank"
              }}
            </v-icon>
          </v-col>
        </v-col>
      </v-row>
    </v-sheet>
    <v-sheet class="pl-2">
      <v-label v-if="visits.length == 0">{{
        $t("trajectory_exploitation.noVisitsToShow")
        }}</v-label>
    </v-sheet>
  </v-container>
</template>

<script>
export default {
  name: "VisitList",
  props: ["visits"]
};
</script>
<style scoped>
#title {
  font-weight: bold;
  font-size: 16px;
}
#order-span {
  height: 30px;
  width: 30px;
  border-radius: 50%;
  text-align: center;
  padding-top: 4px;
  font-weight: bold;
}
/*% if (feature.MVM_VT_WithTime) { %*/
@media (max-width: 599px) {
  #order-span {
    height: 45px;
    width: 45px;
    padding-top: 12px;
  }
}
/*% } %*/
.done {
  background-color: #97ef15;
}
.pending {
  background-color: #fac32f;
}
</style>
/*% } %*/
